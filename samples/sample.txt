@startuml
left to right direction

state "Scenario" as state_Scenario {
  json Scenario {
  "Scenario": {
    "ScenarioModifiers": {
      "ScenarioModifier": [
        {
          "name": "__tier4_modifier_egoSpd",
          "list": [
            1.389,
            2.778,
            5.556
          ]
        }
      ]
    },
    "OpenSCENARIO": {
      "FileHeader": {
        "revMajor": 1,
        "revMinor": 1,
        "date": "2023-11-13T11:17:34.451Z",
        "description": "",
        "author": "Berkay Karaman (last modified by: Berkay Karaman)"
      },
      "ParameterDeclarations": {
        "ParameterDeclaration": [
          {
            "name": "egoSpd",
            "parameterType": "double",
            "value": "__tier4_modifier_egoSpd"
          },
          {
            "name": "__ego_dimensions_length__",
            "parameterType": "double",
            "value": "0"
          },
          {
            "name": "__ego_dimensions_width__",
            "parameterType": "double",
            "value": "0"
          },
          {
            "name": "__ego_dimensions_height__",
            "parameterType": "double",
            "value": "0"
          },
          {
            "name": "__ego_center_x__",
            "parameterType": "double",
            "value": "0"
          },
          {
            "name": "__ego_center_y__",
            "parameterType": "double",
            "value": "0"
          },
          {
            "name": "__ego_center_z__",
            "parameterType": "double",
            "value": "0"
          }
        ]
      },
      "CatalogLocations": {
        "CatalogLocation": []
      },
      "RoadNetwork": {
        "LogicFile": {
          "filepath": "awf_cicd_virtual_E_dev.osm"
        },
        "SceneGraphFile": {
          "filepath": "awf_cicd_virtual_E_dev.pcd"
        },
        "TrafficSignals": {
          "TrafficSignalController": [
            {
              "name": "StraghtSignal",
              "Phase": [
                {
                  "name": "RED",
                  "duration": "INF",
                  "TrafficSignalState": [
                    {
                      "trafficSignalId": "12515",
                      "state": "red solidOn circle"
                    },
                    {
                      "trafficSignalId": "12526",
                      "state": "green solidOn circle"
                    }
                  ]
                },
                {
                  "name": "GREEN",
                  "duration": "INF",
                  "TrafficSignalState": [
                    {
                      "trafficSignalId": "12515",
                      "state": "green solidOn circle"
                    },
                    {
                      "trafficSignalId": "12526",
                      "state": "red solidOn circle"
                    }
                  ]
                }
              ]
            }
          ]
        }
      },
      "Entities": "<<Original Key Path: Scenario.OpenSCENARIO.Entities>>",
      "Storyboard": "<<Original Key Path: Scenario.OpenSCENARIO.Storyboard>>"
    }
  }
}

}
state "Scenario.OpenSCENARIO.Entities" as state_Scenario_OpenSCENARIO_Entities {
  json Entities {
  "Entities": {
    "ScenarioObject": [
      {
        "name": "ego",
        "Vehicle": {
          "name": "",
          "vehicleCategory": "car",
          "BoundingBox": {
            "Center": {
              "x": 1.345,
              "y": 0,
              "z": 1.25
            },
            "Dimensions": {
              "length": 4.89,
              "width": 2.131,
              "height": 2.5
            }
          },
          "Performance": {
            "maxSpeed": 50,
            "maxAcceleration": "INF",
            "maxDeceleration": "INF"
          },
          "Axles": {
            "FrontAxle": {
              "maxSteering": 0.5236,
              "wheelDiameter": 0.766,
              "trackWidth": 1.64,
              "positionX": 1.445,
              "positionZ": 0.383
            },
            "RearAxle": {
              "maxSteering": 0.5236,
              "wheelDiameter": 0.766,
              "trackWidth": 1.64,
              "positionX": 0,
              "positionZ": 0.383
            }
          },
          "Properties": {
            "Property": []
          }
        },
        "ObjectController": {
          "Controller": {
            "name": "",
            "Properties": {
              "Property": [
                {
                  "name": "isEgo",
                  "value": "true"
                }
              ]
            }
          }
        }
      },
      {
        "name": "Pedestrian1",
        "Pedestrian": {
          "name": "Pedestrian",
          "mass": 60,
          "model": "",
          "pedestrianCategory": "pedestrian",
          "BoundingBox": {
            "Center": {
              "x": 0,
              "y": 0,
              "z": 1
            },
            "Dimensions": {
              "length": 0.8,
              "width": 0.8,
              "height": 2
            }
          },
          "Properties": {
            "Property": []
          }
        }
      }
    ]
  }
}

}
state "Scenario.OpenSCENARIO.Storyboard" as state_Scenario_OpenSCENARIO_Storyboard {
  json Storyboard {
  "Storyboard": {
    "Init": {
      "Actions": {
        "GlobalAction": [
          {
            "InfrastructureAction": {
              "TrafficSignalAction": {
                "TrafficSignalControllerAction": {
                  "trafficSignalControllerRef": "StraghtSignal",
                  "phase": "GREEN"
                }
              }
            }
          }
        ],
        "Private": [
          {
            "entityRef": "ego",
            "PrivateAction": [
              {
                "TeleportAction": {
                  "Position": {
                    "LanePosition": {
                      "roadId": "",
                      "laneId": "12163",
                      "s": 440,
                      "offset": 0,
                      "Orientation": {
                        "type": "relative",
                        "h": 0,
                        "p": 0,
                        "r": 0
                      }
                    }
                  }
                }
              },
              {
                "RoutingAction": {
                  "AcquirePositionAction": {
                    "Position": {
                      "LanePosition": {
                        "roadId": "",
                        "laneId": "12163",
                        "s": 525,
                        "offset": 0,
                        "Orientation": {
                          "type": "relative",
                          "h": 0,
                          "p": 0,
                          "r": 0
                        }
                      }
                    }
                  }
                }
              },
              {
                "LongitudinalAction": {
                  "SpeedAction": {
                    "SpeedActionDynamics": {
                      "dynamicsDimension": "time",
                      "value": 0,
                      "dynamicsShape": "step"
                    },
                    "SpeedActionTarget": {
                      "AbsoluteTargetSpeed": {
                        "value": "$egoSpd"
                      }
                    }
                  }
                }
              },
              {
                "ControllerAction": {
                  "AssignControllerAction": {
                    "Controller": {
                      "name": "",
                      "Properties": {
                        "Property": [
                          {
                            "name": "maxSpeed",
                            "value": "$egoSpd"
                          }
                        ]
                      }
                    }
                  }
                }
              }
            ]
          },
          {
            "entityRef": "Pedestrian1",
            "PrivateAction": [
              {
                "TeleportAction": {
                  "Position": {
                    "LanePosition": {
                      "roadId": "",
                      "laneId": "12163",
                      "s": 490,
                      "offset": 3,
                      "Orientation": {
                        "type": "relative",
                        "h": -1.5708,
                        "p": 0,
                        "r": 0
                      }
                    }
                  }
                }
              },
              {
                "LongitudinalAction": {
                  "SpeedAction": {
                    "SpeedActionDynamics": {
                      "dynamicsDimension": "time",
                      "value": 0,
                      "dynamicsShape": "step"
                    },
                    "SpeedActionTarget": {
                      "AbsoluteTargetSpeed": {
                        "value": 0
                      }
                    }
                  }
                }
              },
              {
                "ControllerAction": {
                  "AssignControllerAction": {
                    "Controller": {
                      "name": "",
                      "Properties": {
                        "Property": [
                          {
                            "name": "maxSpeed",
                            "value": "0"
                          }
                        ]
                      }
                    }
                  }
                }
              }
            ]
          }
        ]
      }
    },
    "Story": "<<Original Key Path: Scenario.OpenSCENARIO.Storyboard.Story>>",
    "StopTrigger": {
      "ConditionGroup": []
    }
  }
}

}
state "Scenario.OpenSCENARIO.Storyboard.Story" as state_Scenario_OpenSCENARIO_Storyboard_Story {
  json Story {
  "Story": [
    {
      "name": "",
      "Act": [
        {
          "name": "act_signal_change",
          "ManeuverGroup": "<<Original Key Path: Scenario.OpenSCENARIO.Storyboard.Story.Act.ManeuverGroup 0>>",
          "StartTrigger": {
            "ConditionGroup": [
              {
                "Condition": [
                  {
                    "name": "",
                    "delay": 0,
                    "conditionEdge": "none",
                    "ByValueCondition": {
                      "SimulationTimeCondition": {
                        "value": 0,
                        "rule": "greaterThan"
                      }
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "name": "act_ped_start",
          "ManeuverGroup": "<<Original Key Path: Scenario.OpenSCENARIO.Storyboard.Story.Act.ManeuverGroup 1>>",
          "StartTrigger": {
            "ConditionGroup": [
              {
                "Condition": [
                  {
                    "name": "",
                    "delay": 0,
                    "conditionEdge": "none",
                    "ByValueCondition": {
                      "SimulationTimeCondition": {
                        "value": 0,
                        "rule": "greaterThan"
                      }
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "name": "act_ped_stop",
          "ManeuverGroup": "<<Original Key Path: Scenario.OpenSCENARIO.Storyboard.Story.Act.ManeuverGroup 2>>",
          "StartTrigger": {
            "ConditionGroup": [
              {
                "Condition": [
                  {
                    "name": "",
                    "delay": 0,
                    "conditionEdge": "none",
                    "ByValueCondition": {
                      "StoryboardElementStateCondition": {
                        "state": "completeState",
                        "storyboardElementType": "act",
                        "storyboardElementRef": "act_ped_start"
                      }
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "name": "act_check_ego_stop_obstacle",
          "ManeuverGroup": "<<Original Key Path: Scenario.OpenSCENARIO.Storyboard.Story.Act.ManeuverGroup 3>>",
          "StartTrigger": {
            "ConditionGroup": [
              {
                "Condition": [
                  {
                    "name": "",
                    "delay": 0,
                    "conditionEdge": "none",
                    "ByValueCondition": {
                      "StoryboardElementStateCondition": {
                        "state": "completeState",
                        "storyboardElementType": "act",
                        "storyboardElementRef": "act_ped_start"
                      }
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "name": "act_check_ego_stopkeep",
          "ManeuverGroup": "<<Original Key Path: Scenario.OpenSCENARIO.Storyboard.Story.Act.ManeuverGroup 4>>",
          "StartTrigger": {
            "ConditionGroup": [
              {
                "Condition": [
                  {
                    "name": "",
                    "delay": 0,
                    "conditionEdge": "none",
                    "ByValueCondition": {
                      "StoryboardElementStateCondition": {
                        "state": "completeState",
                        "storyboardElementType": "act",
                        "storyboardElementRef": "act_check_ego_stop_obstacle"
                      }
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "name": "act_check_ego_spd",
          "ManeuverGroup": "<<Original Key Path: Scenario.OpenSCENARIO.Storyboard.Story.Act.ManeuverGroup 5>>",
          "StartTrigger": {
            "ConditionGroup": [
              {
                "Condition": [
                  {
                    "name": "",
                    "delay": 0,
                    "conditionEdge": "none",
                    "ByValueCondition": {
                      "StoryboardElementStateCondition": {
                        "state": "completeState",
                        "storyboardElementType": "act",
                        "storyboardElementRef": "act_check_ego_stop_obstacle"
                      }
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "name": "_EndCondition",
          "ManeuverGroup": "<<Original Key Path: Scenario.OpenSCENARIO.Storyboard.Story.Act.ManeuverGroup 6>>",
          "StartTrigger": {
            "ConditionGroup": [
              {
                "Condition": [
                  {
                    "name": "",
                    "delay": 0,
                    "conditionEdge": "none",
                    "ByValueCondition": {
                      "SimulationTimeCondition": {
                        "value": 0,
                        "rule": "greaterThan"
                      }
                    }
                  }
                ]
              }
            ]
          }
        }
      ]
    }
  ]
}

}
state "Scenario.OpenSCENARIO.Storyboard.Story.Act.ManeuverGroup" as state_Scenario_OpenSCENARIO_Storyboard_Story_Act_ManeuverGroup {
  json ManeuverGroup {
  "ManeuverGroup": [
    {
      "ManeuverGroup": [
        {
          "maximumExecutionCount": 1,
          "name": "act_signal_change",
          "Actors": {
            "selectTriggeringEntities": false,
            "EntityRef": [
              {
                "entityRef": "ego"
              }
            ]
          },
          "Maneuver": [
            {
              "name": "",
              "Event": [
                {
                  "name": "signal_change",
                  "priority": "parallel",
                  "Action": [
                    {
                      "name": "",
                      "GlobalAction": {
                        "InfrastructureAction": {
                          "TrafficSignalAction": {
                            "TrafficSignalControllerAction": {
                              "trafficSignalControllerRef": "StraghtSignal",
                              "phase": "GREEN"
                            }
                          }
                        }
                      }
                    }
                  ],
                  "StartTrigger": {
                    "ConditionGroup": [
                      {
                        "Condition": [
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByEntityCondition": {
                              "TriggeringEntities": {
                                "triggeringEntitiesRule": "any",
                                "EntityRef": [
                                  {
                                    "entityRef": "ego"
                                  }
                                ]
                              },
                              "EntityCondition": {
                                "SpeedCondition": {
                                  "rule": "greaterThan",
                                  "value": 0.0001
                                }
                              }
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "ManeuverGroup": [
        {
          "maximumExecutionCount": 1,
          "name": "act_ped_start",
          "Actors": {
            "selectTriggeringEntities": false,
            "EntityRef": [
              {
                "entityRef": "Pedestrian1"
              }
            ]
          },
          "Maneuver": [
            {
              "name": "",
              "Event": [
                {
                  "name": "ped_start",
                  "priority": "parallel",
                  "Action": [
                    {
                      "name": "",
                      "UserDefinedAction": {
                        "CustomCommandAction": {
                          "type": "WalkStraightAction"
                        }
                      }
                    },
                    {
                      "name": "",
                      "PrivateAction": {
                        "LongitudinalAction": {
                          "SpeedAction": {
                            "SpeedActionDynamics": {
                              "dynamicsDimension": "time",
                              "value": 0,
                              "dynamicsShape": "step"
                            },
                            "SpeedActionTarget": {
                              "AbsoluteTargetSpeed": {
                                "value": 0.4167
                              }
                            }
                          }
                        }
                      }
                    }
                  ],
                  "StartTrigger": {
                    "ConditionGroup": [
                      {
                        "Condition": [
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByValueCondition": {
                              "StoryboardElementStateCondition": {
                                "state": "completeState",
                                "storyboardElementType": "act",
                                "storyboardElementRef": "act_signal_change"
                              }
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "ManeuverGroup": [
        {
          "maximumExecutionCount": 1,
          "name": "act_ped_stop",
          "Actors": {
            "selectTriggeringEntities": false,
            "EntityRef": [
              {
                "entityRef": "Pedestrian1"
              }
            ]
          },
          "Maneuver": [
            {
              "name": "",
              "Event": [
                {
                  "name": "ped_stop",
                  "priority": "parallel",
                  "Action": [
                    {
                      "name": "",
                      "UserDefinedAction": {
                        "CustomCommandAction": {
                          "type": "WalkStraightAction"
                        }
                      }
                    },
                    {
                      "name": "",
                      "PrivateAction": {
                        "LongitudinalAction": {
                          "SpeedAction": {
                            "SpeedActionDynamics": {
                              "dynamicsDimension": "time",
                              "value": 0,
                              "dynamicsShape": "step"
                            },
                            "SpeedActionTarget": {
                              "AbsoluteTargetSpeed": {
                                "value": 0
                              }
                            }
                          }
                        }
                      }
                    }
                  ],
                  "StartTrigger": {
                    "ConditionGroup": [
                      {
                        "Condition": [
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByEntityCondition": {
                              "TriggeringEntities": {
                                "triggeringEntitiesRule": "any",
                                "EntityRef": [
                                  {
                                    "entityRef": "Pedestrian1"
                                  }
                                ]
                              },
                              "EntityCondition": {
                                "ReachPositionCondition": {
                                  "Position": {
                                    "LanePosition": {
                                      "roadId": "",
                                      "laneId": "12163",
                                      "s": 490,
                                      "offset": 0.1049,
                                      "Orientation": {
                                        "type": "relative",
                                        "h": 0,
                                        "p": 0,
                                        "r": 0
                                      }
                                    }
                                  },
                                  "tolerance": 0.5
                                }
                              }
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "ManeuverGroup": [
        {
          "maximumExecutionCount": 1,
          "name": "act_check_ego_stop_obstacle",
          "Actors": {
            "selectTriggeringEntities": false,
            "EntityRef": [
              {
                "entityRef": "Pedestrian1"
              }
            ]
          },
          "Maneuver": [
            {
              "name": "",
              "Event": [
                {
                  "name": "check_ego_stop_obstacle",
                  "priority": "parallel",
                  "Action": [
                    {
                      "name": "",
                      "UserDefinedAction": {
                        "CustomCommandAction": {
                          "type": "WalkStraightAction"
                        }
                      }
                    },
                    {
                      "name": "",
                      "PrivateAction": {
                        "LongitudinalAction": {
                          "SpeedAction": {
                            "SpeedActionDynamics": {
                              "dynamicsDimension": "time",
                              "value": 0,
                              "dynamicsShape": "step"
                            },
                            "SpeedActionTarget": {
                              "AbsoluteTargetSpeed": {
                                "value": 0.5556
                              }
                            }
                          }
                        }
                      }
                    }
                  ],
                  "StartTrigger": {
                    "ConditionGroup": [
                      {
                        "Condition": [
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByEntityCondition": {
                              "TriggeringEntities": {
                                "triggeringEntitiesRule": "any",
                                "EntityRef": [
                                  {
                                    "entityRef": "ego"
                                  }
                                ]
                              },
                              "EntityCondition": {
                                "SpeedCondition": {
                                  "rule": "lessThan",
                                  "value": 0.0001
                                }
                              }
                            }
                          },
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByEntityCondition": {
                              "TriggeringEntities": {
                                "triggeringEntitiesRule": "any",
                                "EntityRef": [
                                  {
                                    "entityRef": "ego"
                                  }
                                ]
                              },
                              "EntityCondition": {
                                "DistanceCondition": {
                                  "Position": {
                                    "LanePosition": {
                                      "roadId": "",
                                      "laneId": "12163",
                                      "s": 490,
                                      "offset": 0.1049,
                                      "Orientation": {
                                        "type": "relative",
                                        "h": 0,
                                        "p": 0,
                                        "r": 0
                                      }
                                    }
                                  },
                                  "value": 5,
                                  "freespace": false,
                                  "relativeDistanceType": "longitudinal",
                                  "coordinateSystem": "lane",
                                  "rule": "greaterThan"
                                }
                              }
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "ManeuverGroup": [
        {
          "maximumExecutionCount": 1,
          "name": "act_check_ego_stopkeep",
          "Actors": {
            "selectTriggeringEntities": false,
            "EntityRef": [
              {
                "entityRef": "ego"
              }
            ]
          },
          "Maneuver": [
            {
              "name": "",
              "Event": [
                {
                  "name": "check_ego_stopkeep",
                  "priority": "parallel",
                  "Action": [
                    {
                      "name": "",
                      "UserDefinedAction": {
                        "CustomCommandAction": {
                          "type": ":"
                        }
                      }
                    }
                  ],
                  "StartTrigger": {
                    "ConditionGroup": [
                      {
                        "Condition": [
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByEntityCondition": {
                              "TriggeringEntities": {
                                "triggeringEntitiesRule": "any",
                                "EntityRef": [
                                  {
                                    "entityRef": "ego"
                                  }
                                ]
                              },
                              "EntityCondition": {
                                "SpeedCondition": {
                                  "rule": "lessThan",
                                  "value": 0.0001
                                }
                              }
                            }
                          },
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByEntityCondition": {
                              "TriggeringEntities": {
                                "triggeringEntitiesRule": "any",
                                "EntityRef": [
                                  {
                                    "entityRef": "Pedestrian1"
                                  }
                                ]
                              },
                              "EntityCondition": {
                                "DistanceCondition": {
                                  "Position": {
                                    "LanePosition": {
                                      "roadId": "",
                                      "laneId": "12163",
                                      "s": 490,
                                      "offset": -1.2228,
                                      "Orientation": {
                                        "type": "relative",
                                        "h": 0,
                                        "p": 0,
                                        "r": 0
                                      }
                                    }
                                  },
                                  "value": 0.3,
                                  "freespace": false,
                                  "relativeDistanceType": "longitudinal",
                                  "coordinateSystem": "entity",
                                  "rule": "lessThan"
                                }
                              }
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "ManeuverGroup": [
        {
          "maximumExecutionCount": 1,
          "name": "act_check_ego_spd",
          "Actors": {
            "selectTriggeringEntities": false,
            "EntityRef": [
              {
                "entityRef": "ego"
              }
            ]
          },
          "Maneuver": [
            {
              "name": "",
              "Event": [
                {
                  "name": "check_ego_spd",
                  "priority": "parallel",
                  "Action": [
                    {
                      "name": "",
                      "UserDefinedAction": {
                        "CustomCommandAction": {
                          "type": ":"
                        }
                      }
                    }
                  ],
                  "StartTrigger": {
                    "ConditionGroup": [
                      {
                        "Condition": [
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByEntityCondition": {
                              "TriggeringEntities": {
                                "triggeringEntitiesRule": "any",
                                "EntityRef": [
                                  {
                                    "entityRef": "ego"
                                  }
                                ]
                              },
                              "EntityCondition": {
                                "SpeedCondition": {
                                  "rule": "greaterThan",
                                  "value": 0.0001
                                }
                              }
                            }
                          },
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByValueCondition": {
                              "StoryboardElementStateCondition": {
                                "state": "runningState",
                                "storyboardElementType": "act",
                                "storyboardElementRef": "act_check_ego_stopkeep"
                              }
                            }
                          },
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByEntityCondition": {
                              "TriggeringEntities": {
                                "triggeringEntitiesRule": "any",
                                "EntityRef": [
                                  {
                                    "entityRef": "Pedestrian1"
                                  }
                                ]
                              },
                              "EntityCondition": {
                                "DistanceCondition": {
                                  "Position": {
                                    "LanePosition": {
                                      "roadId": "",
                                      "laneId": "12163",
                                      "s": 490,
                                      "offset": -1.2228,
                                      "Orientation": {
                                        "type": "relative",
                                        "h": 0,
                                        "p": 0,
                                        "r": 0
                                      }
                                    }
                                  },
                                  "value": 0.3,
                                  "freespace": false,
                                  "relativeDistanceType": "longitudinal",
                                  "coordinateSystem": "entity",
                                  "rule": "greaterThan"
                                }
                              }
                            }
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "ManeuverGroup": [
        {
          "maximumExecutionCount": 1,
          "name": "",
          "Actors": {
            "selectTriggeringEntities": false,
            "EntityRef": [
              {
                "entityRef": "ego"
              }
            ]
          },
          "Maneuver": [
            {
              "name": "",
              "Event": [
                {
                  "name": "",
                  "priority": "parallel",
                  "StartTrigger": {
                    "ConditionGroup": [
                      {
                        "Condition": [
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByEntityCondition": {
                              "TriggeringEntities": {
                                "triggeringEntitiesRule": "any",
                                "EntityRef": [
                                  {
                                    "entityRef": "ego"
                                  }
                                ]
                              },
                              "EntityCondition": {
                                "ReachPositionCondition": {
                                  "Position": {
                                    "LanePosition": {
                                      "roadId": "",
                                      "laneId": "12163",
                                      "s": 525,
                                      "offset": 0,
                                      "Orientation": {
                                        "type": "relative",
                                        "h": 0,
                                        "p": 0,
                                        "r": 0
                                      }
                                    }
                                  },
                                  "tolerance": 1
                                }
                              }
                            }
                          },
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByValueCondition": {
                              "StoryboardElementStateCondition": {
                                "state": "completeState",
                                "storyboardElementType": "act",
                                "storyboardElementRef": "act_check_ego_stop_obstacle"
                              }
                            }
                          },
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByValueCondition": {
                              "StoryboardElementStateCondition": {
                                "state": "completeState",
                                "storyboardElementType": "act",
                                "storyboardElementRef": "act_check_ego_stopkeep"
                              }
                            }
                          }
                        ]
                      }
                    ]
                  },
                  "Action": [
                    {
                      "name": "",
                      "UserDefinedAction": {
                        "CustomCommandAction": {
                          "type": "exitSuccess"
                        }
                      }
                    }
                  ]
                },
                {
                  "name": "",
                  "priority": "parallel",
                  "StartTrigger": {
                    "ConditionGroup": [
                      {
                        "Condition": [
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByValueCondition": {
                              "SimulationTimeCondition": {
                                "value": 180,
                                "rule": "greaterThan"
                              }
                            }
                          }
                        ]
                      },
                      {
                        "Condition": [
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByEntityCondition": {
                              "TriggeringEntities": {
                                "triggeringEntitiesRule": "any",
                                "EntityRef": [
                                  {
                                    "entityRef": "ego"
                                  }
                                ]
                              },
                              "EntityCondition": {
                                "CollisionCondition": {
                                  "EntityRef": {
                                    "entityRef": "Pedestrian1"
                                  }
                                }
                              }
                            }
                          }
                        ]
                      },
                      {
                        "Condition": [
                          {
                            "name": "",
                            "delay": 0,
                            "conditionEdge": "none",
                            "ByValueCondition": {
                              "StoryboardElementStateCondition": {
                                "state": "completeState",
                                "storyboardElementType": "act",
                                "storyboardElementRef": "act_check_ego_spd"
                              }
                            }
                          }
                        ]
                      }
                    ]
                  },
                  "Action": [
                    {
                      "name": "",
                      "UserDefinedAction": {
                        "CustomCommandAction": {
                          "type": "exitFailure"
                        }
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}

}
state_Scenario_OpenSCENARIO_Storyboard_Story --> state_Scenario_OpenSCENARIO_Storyboard_Story_Act_ManeuverGroup
note on link
  Scenario.OpenSCENARIO.Storyboard.Story contains Scenario.OpenSCENARIO.Storyboard.Story.Act.ManeuverGroup
end note

state_Scenario_OpenSCENARIO_Storyboard --> state_Scenario_OpenSCENARIO_Storyboard_Story
note on link
  Scenario.OpenSCENARIO.Storyboard contains Scenario.OpenSCENARIO.Storyboard.Story
end note

state_Scenario --> state_Scenario_OpenSCENARIO_Storyboard
note on link
  Scenario contains Scenario.OpenSCENARIO.Storyboard
end note

state_Scenario --> state_Scenario_OpenSCENARIO_Entities
note on link
  Scenario contains Scenario.OpenSCENARIO.Entities
end note


@enduml